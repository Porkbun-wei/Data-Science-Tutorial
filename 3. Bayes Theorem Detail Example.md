# 1. Introduction to Bayes' Theorem

Bayesâ€™ theorem is a useful tool to calculate conditional probability of an event; that is, to calculate probability of an event based on prior knowledge or additional information related to an event.

For example, when rolling a dice, the probablity of getting a '6' is 1/6. If I tell you that the result of the roll is an even number, what is the probablity of getting a '6'? Obviously it is much higher than 1/6. This simple example illustrate the importance of **additional information or prior knowledge**. 

# 2. Simple Derivation of Bayes' Theorem

We denote $P(A|B)$ as the probability of A will happen given that B **already happened**; that is, 
P(A|B) = P (A Will Happen | B Already Happened)$


P(A|B) can be calculated using the following: 

$$P(A|B) = \frac{P(A\cap B)}{P(B)} \;\;\;\;(Equation \; 1)$$ 

Where $P(A\cap B)$ stands for A and B happen at the same time. 

Using the same reasoning, we can obtain:

$$P(B|A) =  \frac{P(B\cap A)}{P(A)} \;\;\;\;(Equation \; 2)$$   

Since P(B $\cap$ A) = P(A $\cap$ B), by substituing 2nd Equation to the 1st equation, the following expressin can be obtained:

$$P(A|B) = \frac{P(B|A){P(A)}}{P(B)}\;\;\;\;(Equation \; 3)$$

Equation 3 is the formula for Bayes' theorem!


# 3-1 Example 1

Calculate the probablity of getting a '6' after rolling a dice, given that the result (R) is an even number.

Let's show the formular for Baye's theorem again:

$$P(A|B) = \frac{P(B|A){P(A)}}{P(B)}\;\;\;\;(Equation \; 3)$$

**In here we want to calculate:**

P(A|B) = P(rolling a 6 | result is even) 

**Information We Know:**

P(A) = P(6) = the *unconditional* probability of getting a '6' = 1/6

P(B) = P(even) = the *unconditional* probality of getting an even number = 1/2

P(B|A) = probability of getting an even number aftering rolling a '6' = 1

**Thus:**

$$P(6|even) = \frac{P(even|6){P(6)}}{P(even)} = \frac{1 *(1/6)} {1/2} = 1/3 $$



# 3-2 Example 2
Suppose I have two children and assume that the probability of giving birth to a boy and a girl are identical. Given that one of my children is a girl, waht is the probability of both children are girls.

**In here we want to calculate:**

P(A|B) = P (both are girls) | one of the children is girl)

**Information We Know:** 

P(A) = P(both girls) = 1/4
P(B) = P(one of the children is girl) = 3/4
P(B|A) = P(one of the children is girl | both are girls) = 1

**Answer:**

P(A|B) = P(both girls | one of children is girl) =   P(one of children is girl | both are girls) * P(both girls) / P(one of children is girl) = 1 * (1/4) / (3/4) = 1/3



# 3-3 Example 3

**Monty Hall Problem**: 

Suppose you're on a game show, and you're given the choice of three doors: Behind one door is a car; behind the other two, goats. 

You pick a door, say Door A, and the host, who knows what's behind the doors, opens another door, say Door B, which has a goat. He then says to you, "Do you want to pick Door C or stick with Door A?" **Is it to your advantage to switch your choice?**


**In here we want to calculate:**

P(A|B) = P (Car @ C) | Open Door B). The probablity of the car being at Door C (the door we did not choose) given that the host tell us the car is not at Door B. 


**Information We Know:** 

P(A) = P (Car @ C) = 1/3, since only 1 out of 3 doors contains the car

P(B|A) = P(Open Door B | car @ C) = 1  since if the car is at Door C, then the car cannot be at Door B

Calculating P(B), which is the probility of the host opening Door B is a little tricky because it is not obvious in the problem. Suppose you selected Door A, then the host will open Door B when the Car is either at Door A or Door C, giving the following relationship:

P(B) =  P (Open Door B) =  P(Open Door B $\cap$ Car @ A) + P(Open Door B $\cap$ Car @ B) + P Open Door B $\cap$ Car @ C). Using the conditional probablity formula we can obtain:

P(Open Door B $\cap$ Car @ A) = P(Open Door B | Car @ A) * P (Car @ A) = (1/2)*(1/3) = 1/6. In here, P(Open Door B | Car @ A) is 1/2 because the host can open either Door B and Door C because they are both goat.

P(Open Door B $\cap$ Car @ B) = 0, since the host will never reveal the location of the car

P(Open Door B $\cap$ Car @ C) = P(Open Door B | Car @ C) * P (Car @ C) = 1*(1/3) = 1/3. In here, P(Open Door B | Car @ C) = 1 because Door A is occupied, Door C has car, and the host must open door B

As a result, P(B) = P(Open Door B) = 1/6 + 0 + 1/3 = 1/2




**Answer:**

P(A|B) = P (Car @ C | Open Door B) = P(Open Door B | car @ C) * P (Car @ C) / P (Open Door B) = 1* (1/3) / (1/2) = 2/3. 
This is the probability of getting a car after **Switching** from door A to door C.

What if we stick with Door A even after the host reveal Door B is a goat?

P(Car @ A | Open Door B) = P(Open Door B | car @ A)  * P (car @ A) /  P (Open Door B) = (1/2)*(1.3)/(1/2) = 1/3. 

This is the probability of getting a car after **Sticking** with Door A. 

**The probability of winning a car after switching is twice as much as not switching; as a result, switching is always a good strategy.**




# 3-4 Example 4

Suppose there is a device that detect whether someone has a disease with a accuracy of 99%. That is, if there are 100 sick people, then the device will produce Test Positive result for 99 out of 100 people. If there are 100 healthy people, then the device will produce Test Negative for 99 out of 100 people. 

After checking the population statistics, we found that only 1% of the people on earth have this disease.

**Suppose a patient got a test postive for the disease. What is the probabilty that the person is really sick?**

**In here we want to calculate:**

P(A|B) = P (Sick) | Test Postive). The probability of really being sick given that the device is telling the patient he/she is sick.

**Information We Know:** 

P(A) = P(Sick) = 1%   since only 1% of the population have this disease
P(B|A) = P (Test Postive | Sick) = 99%

P(B) = P(Test Postive). This is the unconditional probability of test postive, which is the probability of getting a Test Postive Answer despite of the patient is really sick or not. Itcan be calculated by the following:

P(B) = P(Test Postive) = P(Test Positive $\cap$ Sick) + P(Test Positive $\cap$ healthy). 

P(Test Positive $\cap$ Sick) = P(Test Postive | Sick) * P(Sick) = 99% * 1% = 0.99%

P(Test Positive $\cap$ Healthy) = P(Test Postive | Healthy) * P(Healthy) = 1% * 99% = 0.99%

Thus, P(B) = 0.99% + 0.99% = 1.98%

**Answer:**

P(A|B) = P (Sick) | Test Postive) = P (Test Postive | Sick) * P(Sick) / P(Test Positive) = 99% * 1% / 1.98% = 50%

**The probability of being sick given that the device produce Test Postive result is 50%**